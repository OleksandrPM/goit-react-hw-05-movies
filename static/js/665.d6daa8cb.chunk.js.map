{"version":3,"file":"static/js/665.d6daa8cb.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/pages/Home/Home.module.scss?ce6f","pages/Home/Home.jsx","tmdbApi/tmdb-api.js","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Home_title__1aNQh\"};","import { Suspense, lazy, useEffect, useState } from 'react';\nimport { getTrending } from 'tmdbApi/tmdb-api';\nimport scss from './Home.module.scss';\n\nconst MoviesList = lazy(() => import('../../components/MoviesList'));\nconst Loader = lazy(() => import('../../components/Loader'));\n\nexport default Home;\n\nfunction Home() {\n  const [trending, setTrending] = useState([]);\n\n  useEffect(() => {\n    try {\n      getTrending().then(data => {\n        const trendingList = data.results.map(\n          ({ backdrop_path, id, poster_path, title }) => {\n            return { backdrop_path, id, poster_path, title };\n          }\n        );\n        setTrending(trendingList);\n      });\n    } catch (error) {\n      // setError(error);\n    } finally {\n      // setIsLoading(false);\n    }\n  }, []);\n\n  return (\n    <>\n      <h2 className={scss.title}>Trending today</h2>\n      <Suspense fallback={<Loader />}>\n        {trending.length === 0 ? (\n          <h2>Something going wrong...</h2>\n        ) : (\n          <MoviesList movies={trending} />\n        )}\n      </Suspense>\n    </>\n  );\n}\n","const ORIGIN = 'https://api.themoviedb.org/3/';\nconst API_TOKEN =\n  'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJiODRhNTAzMjMxNWZiYTc1ZjI0MGI3NDVjYTdjYzBhZiIsInN1YiI6IjY0NzBiZWJlMzM2ZTAxMDBlODBjNTYyZCIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.f2kRYsL7gY4sDbVFKpKd_M1rnGrppV5NDL6eESs9EQU';\n\nconst urlParams = {\n  BASE_URL: 'https://image.tmdb.org/t/p/',\n  POSTER_SIZE: 'w500',\n  PHOTO_SIZE: 'w300',\n};\n\nconst options = {\n  method: 'GET',\n  headers: {\n    accept: 'application/json',\n    Authorization: API_TOKEN,\n  },\n};\n\nconst requestParametersTrending = {\n  pathname: 'trending/movie/day',\n  queries: { language: 'en-US' },\n};\n\nconst requestParametersMovie = {\n  pathname: 'search/movie',\n  queries: {\n    query: '',\n    include_adult: false,\n    language: 'en-US',\n    page: 1,\n  },\n};\n\nconst requestParametersDetails = {\n  pathname: '',\n  queries: { language: 'en-US' },\n};\n\nconst requestParametersCast = {\n  pathname: '',\n  queries: { language: 'en-US' },\n};\n\nconst requestParametersReviews = {\n  pathname: '',\n  queries: { language: 'en-US', page: 1 },\n};\n\nasync function getTrending() {\n  const url = buildUrlString(requestParametersTrending);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    return console.error(err);\n  }\n}\n\nasync function getMovies(query) {\n  requestParametersMovie.queries.query = query;\n  const url = buildUrlString(requestParametersMovie);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    return console.error(err);\n  }\n}\n\nasync function getDetails(id) {\n  requestParametersDetails.pathname = `movie/${id}`;\n  const url = buildUrlString(requestParametersDetails);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    return console.error(err);\n  }\n}\n\nasync function getCast(id) {\n  requestParametersCast.pathname = `movie/${id}/credits`;\n  const url = buildUrlString(requestParametersCast);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    return console.error(err);\n  }\n}\n\nasync function getReviews(id) {\n  requestParametersReviews.pathname = `movie/${id}/reviews`;\n  const url = buildUrlString(requestParametersReviews);\n  try {\n    const response = await fetch(url, options);\n    return await response.json();\n  } catch (err) {\n    return console.error(err);\n  }\n}\n\nfunction buildUrlString(requestParameters) {\n  const { pathname, queries } = requestParameters;\n  const queriesString = buildQueryString(queries);\n  return `${ORIGIN}${pathname}?${queriesString}`;\n}\n\nfunction buildQueryString(queries) {\n  return Object.keys(queries)\n    .map(key => {\n      return `${key}=${queries[key]}`;\n    })\n    .join('&');\n}\n\nexport { getTrending, getMovies, getDetails, getCast, getReviews, urlParams };\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["MoviesList","lazy","Loader","useState","trending","setTrending","useEffect","getTrending","then","data","trendingList","results","map","backdrop_path","id","poster_path","title","error","className","scss","Suspense","fallback","length","movies","urlParams","BASE_URL","POSTER_SIZE","PHOTO_SIZE","options","method","headers","accept","Authorization","requestParametersTrending","pathname","queries","language","requestParametersMovie","query","include_adult","page","requestParametersDetails","requestParametersCast","requestParametersReviews","url","buildUrlString","fetch","response","json","console","getMovies","getDetails","getCast","getReviews","requestParameters","queriesString","Object","keys","key","join","buildQueryString","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","value","done","Promise","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}